doctype html
html(lang="en")
  head(ng-controller="pageCtrl")
    meta(charset="utf-8")
    meta(http-equiv="X-UA-Compatible" content="IE=edge")
    meta(name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=0")

    title Programmer Jobs

    link(rel="stylesheet" href="/stylesheets/bootstrap.codeland.css")
    link(rel="stylesheet" href="//brick.a.ssl.fastly.net/Roboto:400,400i,700")
    link(rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto+Condensed:400,300")
    link(rel="stylesheet" href="/stylesheets/codeland.css")
    link(rel="stylesheet" href="/stylesheets/index.css")

    script(src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.1/angular.min.js")

    script.
      angular.module(
        'city_select',
        []
      ).controller('selectCity', function($scope){
        $scope.selected_city = undefined;
        $scope.cities = JSON.parse('!{ JSON.stringify(cities) }')

        $scope.go = function(){
          window.location.href = window.location.protocol +"//"+ $scope.selected_city +"."+ window.location.host;
        }
      })
  body(ng-app="city_select" ng-controller="selectCity")
    .container.center
      .row
        .col-md-4.col-md-offset-4
          select.form-control(
            ng-model="selected_city"
            ng-options="key as value for (key, value) in cities"
            ng-change="go()"
          )
            option(value="") Select your City
